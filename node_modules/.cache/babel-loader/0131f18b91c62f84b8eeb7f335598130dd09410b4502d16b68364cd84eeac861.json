{"ast":null,"code":"var _jsxFileName = \"E:\\\\sahiltinku\\\\appcode\\\\e-commerce\\\\src\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { uc } from './UserContext';\nimport Order from './Order';\n\n//Get previous order\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet getPreviousOrders = order => {\n  return order.filter(ord => {\n    return ord.ispaymentCopleted === true;\n  });\n};\n//get cart\nlet getCart = orders => {\n  return orders.filter(ord => {\n    return ord.ispaymentCopleted === false;\n  });\n};\nconst Dashboard = () => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  // get context\n  let ur = useContext(uc);\n  // executes only once on initial render = componentDidMount\n\n  useEffect(() => {\n    document.title = \"Dashboard - eCommerce\";\n\n    //load data from database \n    (async () => {\n      let ordersResponse = await fetch(`http://localhost:5000/orders?userid=${ur.user.currentUserId}`, {\n        method: \"GET\"\n      });\n      if (ordersResponse.ok) {\n        //status code is 200 \n        let ordersResponseBody = await ordersResponse.json();\n\n        //get all data from products \n        let productsResponse = await fetch(\"http://localhost:5000/products\", {\n          method: \"GET\"\n        });\n        if (productsResponse.ok) {\n          let productsResponseBody = await productsResponse.json();\n\n          //read all orders data \n          ordersResponseBody.forEach(order => {\n            order.product = productsResponseBody.find(prod => prod.id === order.productId);\n          });\n          console.log(ordersResponseBody);\n          setOrders(ordersResponseBody);\n        }\n      }\n    })();\n  }, [ur.user.currentUserId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 py-3 header\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-dashboard\",\n            children: \"Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"py-2 my-2 text-info border-bottom border-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-history\",\n                children: \"Previous Orders\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"badge badge-info text-primary\",\n                children: [getPreviousOrders(orders.length), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"py-2 my-2 text-primary border-bottom border-primary\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-shopping-cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 5\n              }, this), \"Cart\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"badge badge-info text-primary\",\n                children: \"11\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"Q5Sm+H7VgfbabsGtmY70/Fx9+L8=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useContext","useEffect","useState","uc","Order","getPreviousOrders","order","filter","ord","ispaymentCopleted","getCart","orders","Dashboard","setOrders","ur","document","title","ordersResponse","fetch","user","currentUserId","method","ok","ordersResponseBody","json","productsResponse","productsResponseBody","forEach","product","find","prod","id","productId","console","log","length"],"sources":["E:/sahiltinku/appcode/e-commerce/src/Dashboard.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport {uc} from './UserContext'\r\nimport Order from './Order'\r\n\r\n//Get previous order\r\n\r\nlet getPreviousOrders=(order)=>{\r\nreturn order.filter((ord)=>{\r\nreturn ord.ispaymentCopleted === true\r\n\r\n})\r\n}\r\n//get cart\r\nlet getCart = (orders)=>{\r\nreturn orders.filter((ord)=>{\r\n  return ord.ispaymentCopleted === false\r\n})\r\n}\r\n\r\n\r\nconst Dashboard = () => {\r\n\r\n\r\nconst[orders,setOrders] = useState([])\r\n// get context\r\nlet ur = useContext(uc)\r\n// executes only once on initial render = componentDidMount\r\n\r\n\r\n\r\n\r\nuseEffect(() => { \r\n    document.title = \"Dashboard - eCommerce\"; \r\n \r\n    //load data from database \r\n    (async () => { \r\n      let ordersResponse = await fetch( \r\n        `http://localhost:5000/orders?userid=${ur.user.currentUserId}`, \r\n        { method: \"GET\" } \r\n      ); \r\n \r\n      if (ordersResponse.ok) { \r\n        //status code is 200 \r\n        let ordersResponseBody = await ordersResponse.json(); \r\n \r\n        //get all data from products \r\n        let productsResponse = await fetch(\"http://localhost:5000/products\", { \r\n          method: \"GET\", \r\n        }); \r\n        if (productsResponse.ok) { \r\n          let productsResponseBody = await productsResponse.json(); \r\n \r\n          //read all orders data \r\n          ordersResponseBody.forEach((order) => { \r\n            order.product = productsResponseBody.find( \r\n              (prod) => prod.id === order.productId \r\n            ); \r\n          }); \r\n \r\n          console.log(ordersResponseBody); \r\n \r\n          setOrders(ordersResponseBody); \r\n        } \r\n      } \r\n    })(); \r\n  }, [ur.user.currentUserId]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"row\">\r\n        <div className=\"col-12 py-3 header\">\r\n        <h4><i className='fa fa-dashboard'>Dashboard</i></h4>\r\n\r\n        </div>\r\n        <div className=\"col-12 \">\r\n        {/* previous orders */}\r\n<div className=\"row\">\r\n  <div className=\"col-lg-6\">\r\n    <h4 className='py-2 my-2 text-info border-bottom border-info'>\r\n      <i className='fa fa-history'>Previous Orders</i>\r\n      <span className=\"badge badge-info text-primary\">{getPreviousOrders(orders.length)} </span>\r\n    </h4>\r\n  </div>\r\n  {/* cart start */}\r\n  <div className=\"col-lg-6\">\r\n    <h4 className=\"py-2 my-2 text-primary border-bottom border-primary\">\r\n    <i className='fa fa-shopping-cart'></i>Cart\r\n      <span className=\"badge badge-info text-primary\">11</span>\r\n\r\n\r\n    </h4>\r\n\r\n  </div>\r\n</div>\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dashboard"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,SAAQC,EAAE,QAAO,eAAe;AAChC,OAAOC,KAAK,MAAM,SAAS;;AAE3B;AAAA;AAEA,IAAIC,iBAAiB,GAAEC,KAAK,IAAG;EAC/B,OAAOA,KAAK,CAACC,MAAM,CAAEC,GAAG,IAAG;IAC3B,OAAOA,GAAG,CAACC,iBAAiB,KAAK,IAAI;EAErC,CAAC,CAAC;AACF,CAAC;AACD;AACA,IAAIC,OAAO,GAAIC,MAAM,IAAG;EACxB,OAAOA,MAAM,CAACJ,MAAM,CAAEC,GAAG,IAAG;IAC1B,OAAOA,GAAG,CAACC,iBAAiB,KAAK,KAAK;EACxC,CAAC,CAAC;AACF,CAAC;AAGD,MAAMG,SAAS,GAAG,MAAM;EAAA;EAGxB,MAAK,CAACD,MAAM,EAACE,SAAS,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACtC;EACA,IAAIY,EAAE,GAAGd,UAAU,CAACG,EAAE,CAAC;EACvB;;EAKAF,SAAS,CAAC,MAAM;IACZc,QAAQ,CAACC,KAAK,GAAG,uBAAuB;;IAExC;IACA,CAAC,YAAY;MACX,IAAIC,cAAc,GAAG,MAAMC,KAAK,CAC7B,uCAAsCJ,EAAE,CAACK,IAAI,CAACC,aAAc,EAAC,EAC9D;QAAEC,MAAM,EAAE;MAAM,CAAC,CAClB;MAED,IAAIJ,cAAc,CAACK,EAAE,EAAE;QACrB;QACA,IAAIC,kBAAkB,GAAG,MAAMN,cAAc,CAACO,IAAI,EAAE;;QAEpD;QACA,IAAIC,gBAAgB,GAAG,MAAMP,KAAK,CAAC,gCAAgC,EAAE;UACnEG,MAAM,EAAE;QACV,CAAC,CAAC;QACF,IAAII,gBAAgB,CAACH,EAAE,EAAE;UACvB,IAAII,oBAAoB,GAAG,MAAMD,gBAAgB,CAACD,IAAI,EAAE;;UAExD;UACAD,kBAAkB,CAACI,OAAO,CAAErB,KAAK,IAAK;YACpCA,KAAK,CAACsB,OAAO,GAAGF,oBAAoB,CAACG,IAAI,CACtCC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKzB,KAAK,CAAC0B,SAAS,CACtC;UACH,CAAC,CAAC;UAEFC,OAAO,CAACC,GAAG,CAACX,kBAAkB,CAAC;UAE/BV,SAAS,CAACU,kBAAkB,CAAC;QAC/B;MACF;IACF,CAAC,GAAG;EACN,CAAC,EAAE,CAACT,EAAE,CAACK,IAAI,CAACC,aAAa,CAAC,CAAC;EAE3B,oBACE;IAAA,uBACE;MAAK,SAAS,EAAC,KAAK;MAAA,wBAClB;QAAK,SAAS,EAAC,oBAAoB;QAAA,uBACnC;UAAA,uBAAI;YAAG,SAAS,EAAC,iBAAiB;YAAA,UAAC;UAAS;YAAA;YAAA;YAAA;UAAA;QAAI;UAAA;UAAA;UAAA;QAAA;MAAK;QAAA;QAAA;QAAA;MAAA,QAE/C,eACN;QAAK,SAAS,EAAC,SAAS;QAAA,uBAEhC;UAAK,SAAS,EAAC,KAAK;UAAA,wBAClB;YAAK,SAAS,EAAC,UAAU;YAAA,uBACvB;cAAI,SAAS,EAAC,+CAA+C;cAAA,wBAC3D;gBAAG,SAAS,EAAC,eAAe;gBAAA,UAAC;cAAe;gBAAA;gBAAA;gBAAA;cAAA,QAAI,eAChD;gBAAM,SAAS,EAAC,+BAA+B;gBAAA,WAAEf,iBAAiB,CAACM,MAAM,CAACwB,MAAM,CAAC,EAAC,GAAC;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAO;YAAA;cAAA;cAAA;cAAA;YAAA;UACvF;YAAA;YAAA;YAAA;UAAA,QACD,eAEN;YAAK,SAAS,EAAC,UAAU;YAAA,uBACvB;cAAI,SAAS,EAAC,qDAAqD;cAAA,wBACnE;gBAAG,SAAS,EAAC;cAAqB;gBAAA;gBAAA;gBAAA;cAAA,QAAK,QACrC;gBAAM,SAAS,EAAC,+BAA+B;gBAAA,UAAC;cAAE;gBAAA;gBAAA;gBAAA;cAAA,QAAO;YAAA;cAAA;cAAA;cAAA;YAAA;UAGtD;YAAA;YAAA;YAAA;UAAA,QAED;QAAA;UAAA;UAAA;UAAA;QAAA;MACF;QAAA;QAAA;QAAA;MAAA,QACQ;IAAA;MAAA;MAAA;MAAA;IAAA;EAEF;IAAA;IAAA;IAAA;EAAA,QACF;AAEV,CAAC;AAAA,GA/EKvB,SAAS;AAAA,KAATA,SAAS;AAiFf,eAAeA,SAAS;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}